import { Callout, Table, Td, Tr } from 'nextra/components'

# API Key Management
SimplifyTrip API uses API keys to authenticate your requests. You can view and manage your keys in <a href={process.env.NEXT_PUBLIC_PARTNERS_URL + '/developers'} className="underline" target='_blank'>API Keys Settings</a>.

Test API keys use prefix `pk_test_` and live API keys use prefix `pk_live_`.

Test secret keys use prefix `sk_test_` and live secret keys use prefix `sk_live_`.

All API requests must be made over HTTPS. Calls made over plain HTTP fail. Unauthenticated requests also fail.

API Key and Secret Key MUST be attached in request headers when calling SimplifyTrip APIs.

<Callout type="info">
 	In `Live Mode` and `Test Mode`, you can create separate API keys. They are isolated by environment so test data cannot affect production data.
</Callout>

## Create API Key

Go to <a href={process.env.NEXT_PUBLIC_PARTNERS_URL + '/developers'}  target='_blank'>API Keys Settings</a> to create an API key for your institution.

<div className="my-5">
	<img src="/screenshots/create-api-key.png" width="100%" />
</div>

Enter required information for API key creation:
<div className="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-5 w-full">
	<div>
		<Table rules="none" border={0} width="100%" className='border-0'>
		<tbody>
			<Tr className='border-0 !bg-inherit'>
				<Td className='border-0'><code>named</code> - <span className="text-[10px] text-red-500">required</span></Td>
				<Td className='border-0'>
					<code className='text-red-500 text-xs'>`string`</code>

					API key name
				</Td>
			</Tr>
			<Tr className='border-0 !bg-inherit'>
				<Td className='border-0'><code>webhook</code> - <span className="text-[10px] text-red-500">required</span></Td>
				<Td className='border-0'>
					<code className='text-red-500 text-xs'>`string`</code>

					Webhook endpoint URL to receive data from SimplifyTrip
				</Td>
			</Tr>
			<Tr className='border-0 !bg-inherit'>
				<Td className='border-0'><code>ip</code> - <span className="text-[10px] text-red-500">required</span></Td>
				<Td className='border-0'>
					<code className='text-red-500 text-xs'>`object`</code>

					IP whitelist. Only IPs in this list can use this API key.
				</Td>
			</Tr>
		</tbody>
		</Table>
	</div>
	<div>
		<div className="my-5">
			<img src="/screenshots/api-key-form.png" width="100%" />
		</div>
	</div>
</div>

<Callout className="mb-5">
  **Note** API key details are shown only once right after creation. Save them before closing the dialog.
</Callout>

## Manage API Keys

API key details include the required information to send requests to SimplifyTrip APIs.

Your API Key and Secret Key have broad privileges. Keep them secure and never expose them in public places such as GitHub or client-side code.

<div className="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-5 w-full">
	<div>
		<Table rules="none" border={0} width="100%" className='border-0'>
		<tbody>
			<Tr className='border-0 !bg-inherit'>
				<Td className='border-0'><code>apiKey</code> - <span className="text-[10px] text-red-500">required</span></Td>
				<Td className='border-0'>
					<code className='text-red-500 text-xs'>`string`</code>

					API key sent in the `X-Api-Key` header
				</Td>
			</Tr>
			<Tr className='border-0 !bg-inherit'>
				<Td className='border-0'><code>secretKey</code> - <span className="text-[10px] text-red-500">required</span></Td>
				<Td className='border-0'>
					<code className='text-red-500 text-xs'>`string`</code>

					Secret key sent in `Authorization: Bearer ...` header
				</Td>
			</Tr>
			<Tr className='border-0 !bg-inherit'>
				<Td className='border-0'><code>checksumKey</code> - <span className="text-[10px] text-red-500">required</span></Td>
				<Td className='border-0'>
					<code className='text-red-500 text-xs'>`string`</code>

					Key used for signature verification [details](/developers/signature)
				</Td>
			</Tr>
		</tbody>
		</Table>
	</div>
	<div>
		<div className="my-5">
			<img src="/screenshots/api-key-info.png" width="100%" />
		</div>
	</div>
</div>

You can create multiple API keys for different purposes and update selected settings later.

<Callout className="mb-5" type="error">
  **Warning** If your keys are exposed, disable or delete them and generate new keys immediately.
</Callout>
